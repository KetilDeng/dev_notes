# interview for 2021/08

## 逻辑
1. A、B、C、D四个人分别带着一顶帽子。共两顶黑帽子，两顶白帽子。其中D和A、B、C三个隔了一堵不透明的墙。A可以看到B、C帽子的颜色。B可以看到C帽子的颜色。只要能判断自己的帽子颜色，就可以立刻说出来。他们四人沉默了几分钟，这时候一个人说到，他知道自己帽子的颜色是什么了，请问这个人是谁？
2. 老王卖鞋，一双进价30元，老王赔本卖，只卖20元。有个骗子来买，给老王50元假钞。老王未能识别，又没有零钱，把这假钞拿到隔壁铺子的老李换了50元零钱，回来找了骗子30。隔壁很快发现问题，拿假钞来换，老王只好把自己的家底真钞50元换给隔壁。问老王损失了多少钱？
3. 25匹马，5条跑道。要选出最快的前三名，最少要跑几次？(知乎面试题)
4. 有23枚硬币在桌上,10枚正面朝上。蒙住你的眼睛（你无法分清正反）,如何分成两组，让两组硬币正面朝上的一样多?（雅虎面试题）
5. 有三个杯子，容量各是10升、7升、3升。把10升的装满水。问：不用别的测量，怎样能将 10 升水分成两个 5 升。


## 算法
1. LRU算法是否了解，如何实现一套LRU算法？
2. 如果有1000万个Int类型的数字，如何对他们排序？
3. 如何遍历二叉树？
4. 简述下快速排序的过程，时间复杂度是多少？
5. 有一个整数数组，如何只遍历一遍就实现让该数组奇数都在前面，偶数都在后面？
6. 假设你正在爬楼梯。需要 n 阶你才能到达楼顶。每次你可以爬 1 或 2 个台阶。你有多少种不同的方法可以爬到楼顶呢？(leetcode 20)
7. 给出一个 32 位的有符号整数，你需要将这个整数中每位上的数字进行反转。（leetcode 7）
8. 有红、黄、蓝三种颜色的气球。在牛客王国，1个红气球+1个黄气球+1个蓝气球可以兑换一张彩票。（牛客网）
9. 如何判断一个链表是否是双向列表。
10. 搜索旋转树相关的问题。
11. 数组的排序问题。
12. 给定一个字符串，请你找出其中不含有重复字符的最长子串的长度。
13. 给你一个二叉树，请你返回其按层序遍历得到的节点值。
14. 给定一个二叉树，找出其最大深度。
15. 两个栈 实现一个队列
16. 红黑树了解吗


## 网络
1. 简述https加密过程。
2. 简述tcp三次握手、四次挥手。为什么握手是三次，而挥手需要四次。
3. 分别说一下tcp 和 udp 以及他们的区别和联系。
4. http的超时默认从什么位置开始计算。
5. http使用udp还是tcp链接以及每次发送一个http请求 就一定建立tcp链接吗？ 为什么？
6. tcp建立了几个通道 ，分别是什么 ，发送端和接收端是同一个通道吗？
7. TCP 流量控制

## 操作系统

## 设计模式
1. 怎么理解面向协议编程？
2. 面向对象的特征
3. 知道哪些设计模式，怎么理解设计模式的作用？
4. MVVM和MVC有什么区别？
5. 你对响应式编程的理解
6. KVO 、 Notification 、 delegate 各自的优缺点，效率还有使用场景


## iOS
##### Swift
<details>
<summary>Swift中struct和class有什么区别？</summary>
	struct是值类型，class是引用类型
</details>
<details>
<summary> Swift中的方法调用有哪些形式？ </summary>
	xxx
</details>
<details>
<summary> Swift和OC有什么区别？ </summary>
	xxx
</details>
<details>
<summary> Swift的安全性体现在哪里？（为什么说Swift是安全的？） </summary>
	xxx
</details>
<details>
<summary> 说一下写时复制 </summary>
	xxx
</details>
<details>
<summary> swift的面向协议的理解 </summary>
	xxx
</details>
<details>
<summary> swift中的可变数组 为啥用var来修饰 </summary>
	xxx
</details>
<details>
<summary> 从OC向Swift迁移的时候遇到过什么问题？ </summary>
	xxx
</details>


##### 语法
6. Block是如何实现的？Block对应的数据结构是什么样子的？__block的作用是什么？它对应的数据结构又是什么样子的？
7. GCD中的Block是在堆上还是栈上？
8. NSCoding协议是干什么用的？
9. KVO的实现原理，如何手动触发kvo
10. KVO能监听基础数据类型吗
11. 谈谈你对KVC的理解
12. iOS的系统通知怎么实现的？NSNotificaiton是同步还是异步的，如果发通知时在子线程，接收在哪个线程？

##### UI
13. 事件响应链是如何传递的？（事件传递、事件响应）（注意：手势的有优先级问题还有同时如何阻断事件传递）
14. 什么是异步渲染？
15. layoutsubviews是在什么时机调用的？
16. 一张图片的展示经历了哪些步骤？
17. 什么是离屏渲染，什么情况会导致离屏渲染？
18. CoreAnimation这个框架的作用什么，它跟UIKit的关系是什么？

##### 内存
19. ARC方案的原理是什么？它是在什么时候做的隐式添加release操作？
20. 循环引用有哪些场景，如何避免？
21. 为什么当我们在使用block时外面是weak 声明一个weakSelf，还要在block内部使用strong再持有一下？
22. Autoreleasepool是实现机制是什么？它是什么时候释放内部的对象的？它内部的数据结构是什么样的？当我提到哨兵对象时，会继续问哨兵对象的作用是什么，为什么要设计它？
23. 哪些对象会放入到Autoreleasepool中？
24. Autoreleasepool所使用的数据结构是什么？AutoreleasePoolPage结构体了解么？
24. weak的实现原理是什么？当引用对象销毁是它是如何管理内部的Hash表的？
25. 对于基本数据类型，一般是存储到栈中的，它有没有可能存在堆上，什么情况下会存储到堆上？
26. 帧动画图片占用内存过大时如何解决？
27. atomic 和 nonatomic的区别 atomic一定是安全的吗 为什么 举个场景
28. 讲一下atomic的实现机制；为什么不能保证绝对的线程安全（最好可以结合场景来说）？
28. weak、strong 他们分别的实现原理
29. 对象的创见为什么要init 不要init可以吗 为什么
30. 介绍下内存的几大区域

##### Runtime
25. 消息发送的流程是怎样的？（消息机制）
26. 关联对象时什么情况下会导致内存泄露？
27. 消息转发的流程是什么？
28. category能否添加属性，为什么？能否添加实例变量，为什么？
29. category可以添加成员变量吗 为什么？ 如果对应的结构体有这个ivarList的数组 可以添加成员变量吗 为什么
29. 元类的作用是什么？
30. 类方法是存储到什么地方的？类属性呢？
31. 讲几个runtime的应用场景。
32. 分类和扩展的区别？
33. 交换方法需要注意什么？
34. +load与+initialize 什么时候被调用，它们的区别是

##### RunLoop
32. 讲一下对Runloop的理解？（RunLoop 的实现原理和数据结构，什么时候会用到）
33. 可以用Runloop实现什么功能？
34. RunLoop 的基本概念，它是怎么休眠的？

##### 多线程
1. GCD NSThread NSOPeration 使用的场景和区别 以及NSoperation的几种状态分别是什么？
2. 线程和进程的区别
3. GCD实现多读单写 
4. 多线程数据竞争的解决方案

##### 性能优化
34. 对TableView进行性能优化有哪些方式？
35. Xcode的Instruments都有哪些调试的工具？
36. 讲一下你做过的性能优化的事情。
37. 如何检测卡顿，都有哪些方法？
38. 缩小包体积有哪些方案？
39. 项目编译的流程是什么？手机上的应用程序自点击图标开始到首屏内容展示都经历了哪些步骤？
40. 怎么做启动优化

##### 数据库
40. 数据库中的事务是什么意思？
41. 使用过什么数据库（我回答的Sqlite，Realm），Realm在使用时有哪些注意事项，如何实现批量操作？
42. 设计一套数据库方案，实现类似微信的搜索关键词能快速检索出包含该字符串的聊天信息，并展示对应数量（聊天记录的数据量较大）
43. 常用的SQL语句

##### 其它
43. 静态库和动态库的区别是什么？
44. 动态库和静态库区别和联系 平时怎么使用的 现在使用动态库的目的是什么 （动态库会增加启动时间） 再说一下这种库加载过程以及如何优化
44. 了解Flutter吗？它有没有使用UIKit？它是如何渲染UI的？
45. 二进制重排的核心依据是什么？
46. 如何设计一套切换主题的方案？
47. 类似微博的短视频列表，滑动停留播放，如何实现？
48. 使用python或其它脚本语言（shell）做过哪些事？如何理解脚本语言？
49. 什么是Hash表，什么是Hash碰撞，解决Hash碰撞有什么方法？
50. iOS系统架构是什么样？
51. 说一下以往项目中 最有成就感的项目 并详细介绍使用到的技术点，以及如何攻破技术难点的
52. 说一下 无痕埋点以及如何实现
53. 说说你熟悉的第三方框架，解释一下它的原理
54. SDWebImage 下载了图片后为什么要解码？
55. 数组和链表的区别
56. UIView 生命周期
57. 如果页面 A 跳转到 页面 B，A 的 viewDidDisappear 方法和 B 的 viewDidAppear 方法哪个先调用？
58. 哈希表如何处理冲突

## 公司
#### 富途
1. 有三个杯子，容量各是10升、7升、3升。把10升的装满水。问：不用别的测量，怎样能将 10 升水分成两个 5 升。
3. 一个数组有0和非0（eg: [0、1、-1、0、2、5、0] ），把所有的0往前挪动，其它保持相对位置不变。要求时间复杂度O(n）空间复杂度O(1)。
4. KVO、KVC原理。他们只能针对属性吗？
5. 什么是野指针，什么情况下会出现
6. __block、__weak区别
7. 宏和constant区别和使用场景
